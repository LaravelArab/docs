# بنية المجلد

- [مقدمة](#introduction)
- [المجلد الجذر](#the-root-directory)
    - [مجلد `app`](#the-root-app-directory)
    - [مجلد `bootstrap`](#the-bootstrap-directory)
    - [مجلد `config`](#the-config-directory)
    - [مجلد `database`](#the-database-directory)
    - [مجلد `public`](#the-public-directory)
    - [مجلد `resources`](#the-resources-directory)
    - [مجلد `routes`](#the-routes-directory)
    - [مجلد `storage`](#the-storage-directory)
    - [مجلد `tests`](#the-tests-directory)
    - [مجلد `vendor`](#the-vendor-directory)
- [مجلد التطبيق](#the-app-directory)
    - [مجلد `Console`](#the-console-directory)
    - [مجلد `Events`](#the-events-directory)
    - [مجلد `Exceptions`](#the-exceptions-directory)
    - [مجلد `Http`](#the-http-directory)
    - [مجلد `Jobs`](#the-jobs-directory)
    - [مجلد `Listeners`](#the-listeners-directory)
    - [مجلد `Mail`](#the-mail-directory)
    - [مجلد `Notifications`](#the-notifications-directory)
    - [مجلد `Policies`](#the-policies-directory)
    - [مجلد `Providers`](#the-providers-directory)

<a name="introduction"></a>
## مقدمة

بنية تطبيق لارافال المبدئية تهدف إلى توفير نقطة بداية للتطبيقات الكبيرة والصغيرة. بالطبع أنت حر في تنظيم تطبيقك كما تشاء. لارافال لا يفرض تقريبا أي قيود على مكان وضع أي صنف (class) معين مادام Composer يستطيع تحميله آليا.

### أين هو مجلد Models ؟

عند البدء مع لارافال، العديد من المطورين يقعون في حيرة جراء عدم وجود مجلد `Models`. لكن ذلك أمر مقصود. وجدنا أن كلمة `النماذج - models` غامضة، فهي تعني العديد من الأشياء المختلفة للعديد من الأشخاص المختلفين. بعض المطورين يشير بـ`نموذج - model` التطبيق إلى مجمل منطق العمل، بينما يشير آخرون بـ`النماذج - models` إلى الأصناف التي تتعامل مع قاعدة البيانات الارتباطية (relational database).

لهذا السبب، اخترنا وضع نماذج Eloquent في مجلد `app` مبدئيا، وتمكين المطوِّر من وضعها أينما يشاء.

<a name="the-root-directory"></a>
## المجلد الجذر

<a name="the-root-app-directory"></a>
#### مجلد App

مجلد `app`، كما تتوقع، يحوي الشفرة الرئيسة لتطبيقك. سنتَـطَـرَّق للحديث عن هذا المجلد بالتفصيل قريبا. لكن -تقريبا- جميع الأصناف (classes) في تطبيقك ستكون داخل هذا المجلد.

<a name="the-bootstrap-directory"></a>
#### مجلد Bootstrap

مجلد `bootstrap` يَضُـمُّ الملفات المُـمَـهِدة لتشغيل إطار العمل وإعداد التحميل التلقائي. هذا المجلد يَحْـوي كذلك مجلد `cache` الذي يضُـمُّ بدوره الملفات التي أنشأها إطار العمل لتحسين الأداء مثل ملفات ذاكرة التخزين المؤقت (cache files) للمُوَجِّـه (route) وللخدمات (services).

<a name="the-config-directory"></a>
#### مجلد Config

مجلد `config`، كما يوحي اسمه، يحوي ملفات الإعدادت الخاصة بتطبيقك. من الجيد الاطلاع على هذه الملفات والتعرف على الخيارات المتاحة.

<a name="the-database-directory"></a>
#### مجلد Database

مجلد `database` يحوي ملفات الترحيل والبذور (migration and seeds) لقاعدة بياناتك. إذا شئت يمكنك استعمال المجلد لاحتواء قاعدة بيانات SQLite.

<a name="the-public-directory"></a>
#### مجلد Public

مجلد `public` يحوي ملف `index.php`، الذي يمثل نقطة دخول كل الطلبات (requests) إلى تطبيقك. هذا المجلد يحوي أيضا ممتلكاتك (assets) مثل الصور، ملفات جافاسكريبت وCSS.

<a name="the-resources-directory"></a>
#### مجلد Resources

مجلد `resources` يحوي ملفات العروض (views) والخامات (raw) الخاصة بك والممتلكات الغير مُجَمَّـعة (un-compiled assets) مثل LESS، SASS أو جافاسكريبت. هذا المجلد يحوي أيضا ملفات اللغة.

<a name="the-routes-directory"></a>
#### مجلد Routes

مجلد `routes` يحوي كل تعريفات التوجيه (route definitions) لتطبيقك. افتراضيا، بعض ملفات التوجيه مُدرَجة مع لارافال: `web.php` و`api.php` و`console.php` و`channels.php`.

ملف `web.php` يحتوي على الموجهات التي يضعها `RouteServiceProvider` في مجموعة الوسيط (middleware group) `web`، الذي يقدم حالة الجلسة، حماية CSRF، وتشفير الكعكات (cookies). إذا كان تطبيقك لا يوفر واجهة برمجة تطبيقات (API) عديمة الحالة وRESTful، على الأرجح سيتم تعريف الموجهات الخاصة بك في ملف `web.php`.

ملف `api.php` يحوي الموجهات التي يضعها `RouteServiceProvider` في مجموعة الوسيط `api`، الذي يقدم معدَّل الحد. هذه الموجهات يتم إعدادها لتكون عديمة الحالة، لذا الطلبات عبر هذه الموجهات يتم إعدادها لتكون مُعَرَّفة عبر رموز (tokens) ولن يتم تمكينها من دخول حالة الجلسة.

يمكنك تعريف أوامر المعراض القائمة على الإغلاق (Closure based console commands) الخاص بك في ملف `console.php`. كل إغلاق مُقَيَّـد بمثيل أمر يمَكِّـن مقاربة سهلة من التعامل مع كل طرق مدخلات ومخرجات الأمر. بالرغم من أن هذا الملف لا يُعَرِّف طلبات HTTP، فهو يعرف نقاط الدخول القائمة على المعراض (موجهات) في تطبيقك.

يمكنك تسجيل كل قنوات بث الأحداث التي يدعمها تطبيقك في ملف `channels.php`.

<a name="the-storage-directory"></a>
#### مجلد Storage

مجلد `storage` يحوي قوالب Blade المترجمة، الجلسات القائمة على الملف، ملف ذاكرة التخزين المؤقتة (cache)، وملفات أخرى قام بإنشائها إطار العمل. هذا المجلد ينقسم إلى مجلدات `app` و`framework` و`logs`. يمكن استخدام مجلد `app` لحفظ أي ملفات منشأة من قبل تطبيقك. يمكن استخدام مجلد `framework` لحفظ الملفات المنشأة وملفات ذاكرة التخزين المؤقتة. وأخيرا، يحوي مجلد `logs` ملفات السجل الخاصة بتطبيقك.

يمكن استخدام مجلد `storage/app/public` لحفظ الملفات المنشأة من طرف المستخدمين، مثل الصور الرمزية للملف الشخصي، التي ينبغي أن تكون متاحة للجميع. يجب عليك إنشاء رابط رمزي في `public/storage` يشير إلى هذا المجلد. يمكنك إنشاء الرابط باستعمال الأمر `php artisan storage:link`.

<a name="the-tests-directory"></a>
#### مجلد Tests

مجلد `tests` يحوي اختباراتك الأوتوماتيكية. مثلا [PHPUnit](https://phpunit.de/) متوفر افتراضيا. كل صنف (class) اختبار يجب أن يبدأ بكلمة `Test`. يمكنك تشغيل اختباراتك عبر الأمر `phpunit` أو الأمر `php vendor/bin/phpunit`. 

<a name="the-vendor-directory"></a>
#### مجلد Vendor

مجلد `vendor` يحتوي تبعيات [composer](https://getcomposer.org) الخاصة بك.

<a name="the-app-directory"></a>
## مجلد App

يضم مجلد `app` معظم (ملفات) تطبيقك. بشكل افتراضي، مساحة اسم هذا المجلد هي `App` ويتم تحميلها آليا بواسطة composer باستعمال [معيار PSR-4 للتحميل الآلي](http://www.php-fig.org/psr/psr-4/). 

يحوي مجلد `app` عدة مجلدات أخرى منها `Console` و`Http` و`Providers`. يمكنك اعتبار المجلدين `ِConsole` و`Http` موفرين لواجهة برمجة تطبيقات (API) داخل تطبيقك. كل من بروتوكول HTTP وCLI آليات للتفاعل مع تطبيقك، لكنهما لا يحويان منطق التطبيق. بعبارة أخرى، هما طريقان لإصدار الأموار بسهولة إلى تطبيقك. يحوي مجلد `Console` كل أوامر Artisan الخاصة بك، بينما يحوي مجلد `Http` المتحكمات (controllers) الخاصة بك، الوسائط (middlewares)، والطلبات (requests).

عدة مجلدات أخرى يتم توليدها داخل مجلد `app` وذلك كلما قمت باستعمال أمر Artisan `make` لتوليد الأصناف. مثلا مجلد `app/Jobs` لن يكون موجودا حتى يتم تنفيذ الأمر `make:job` لتوليد صنف مهمة (job class).

>{تلميح} العديد من الأصناف من مجلد `app` يتم توليدها بواسطة Artisan عبر الأوامر. لرؤية الأوامر المتاحة، قم يتنفيذ الأمر `php artisan list make` في الطرفية.

<a name="the-console-directory"></a>
#### مجلد Console

يحوي مجلد `ِConsole` أوامر Artisan المعدَّلة لتطبيقك. يمكن توليد تلك الأوامر عبر تنفيذ الأمر `make:command`. يحوي هذا المجلد أيضا نواة console الخاص بك، أين يتم تسجيل أوامر Artisan ويتم تعريف [المهام المجدولة](/docs/{{version}}/scheduling) الخاصة بك.

<a name="the-events-directory"></a>
#### مجلد Events

هذا المجلد غير موجود بشكل افتراضي، لكن سيتم إضافته من أجلك عبر تنفيذ أوامر`event:generate`و`make:event` Artisan. يحوي مجلد `Events`، كما تتوقع، [أصناف الأحداث](/docs/{{version}}/events). يمكن استعمال الأحداث لتنبيه أجزاء أخرى من تطبيقك أن نشاطا ما قد حدث، مما يوفر قدرا كبير من المرونة والفصل (decoupling).

<a name="the-exceptions-directory"></a>
#### مجلد Exceptions

يحوي مجلد `Exceptions` معالج الاستثناءات الخاص بتطبيقك وهو مكان مناسب لوضع أي استثناءات لتطبيقك. إذا كنت تريد تخصيص كيفية تسجيل وعرض الاستثناءات الخاصة بك، عليك تعديل صنف `Handler` في هذا المجلد.

<a name="the-http-directory"></a>
#### مجلد Http

يحوي مجلد `Http` المتحكمات الخاصة بك، الوسائط، وطلبات النماذج. تقريبا كل المنطق الذي سيعالج الطلبات الداخلة لتطبيقك سيتم وضعها في هذا المجلد. 

<a name="the-jobs-directory"></a>
#### مجلد Jobs

افتراضيا هذا المجلد غير موجود، لكن سيتم إنشاؤه من أجلك عند تنفيذك أمر Artisan `make:job`. يحوي مجلد `Jobs` [المهام القابلة للتصفيف](/docs/{{version}}/queues) الخاصة بتطبيقك. المهام يمكن تصفيفها من قِبَـل تطبيقك عبر تشغيلها بصفة متزامنة ضمن دورة حياة الطلب الحالي. المهام التي يتم تشغيلها بصفة متزامنة خلال الطلب الحالي يتم الإشارة إليها أحيانا بـ"أوامر" نظرا لأنها تطبيق لـ[نمط الأمر](https://en.wikipedia.org/wiki/Command_pattern)  

<a name="the-listeners-directory"></a>
#### مجلد Listeners

افتراضيا هذا المجلد غير موجود، لكن سيتم إنشاؤه من أجلك عند تنفيذك للأوامر Artisan `event:generate` أو `make:listener`. يحوي مجلد `Listeners` الأصناف المسؤولة عن معالجة [الأحداث](/docs/{{version}}/events) الخاصة بك. يستقبل مستمعو الأحداث (Event listeners) حدثا ويقومون بتنفيذ المنطق ردا على الحدث الذي تم إطلاقه. مثلا، حدث `UserRegistered` يمكن معالجته عن طريق مستمع `SendWelcomeEmail`.  

<a name="the-mail-directory"></a>
#### مجلد Mail

افتراضيا هذا المجلد غير موجود، لكن سيتم إنشاؤه من أجلك عند تنفيذك لأمر Artisan `make:mail`. يحوي مجلد `Mail` كل الأصناف الخاصة بك التي تمثل رسائل البريد الالكتروني التي تم إرسالها بواسطة تطبيقك. تُمكنك كائنات Mail من تغليف منطق إنشاء بريد إلكتروني في صنف واحد يمكن إرساله عبر الدالة `Mail::send`.

<a name="the-notifications-directory"></a>
#### مجلد Notifications

افتراضيا هذا المجلد غير موجود، لكن سيتم إنشاؤه من أجلك عند تنفيذك لأمر Artisan `make:notification`. يحوي مجلد `Notifications` تنبيهات الإعلامات ("transactional" notifications) التي يتم إرسالها عبر تطبيقك، مثل تنبيهات الأحداث التي تحدث داخل تطبيقك. ميزات تنبيه لارافال تجريد لإرسال تنبيهات عبر مجموعة متنوعة من التعريفات (drivers) مثل البريد الإلكتروني وSlack والإرساليات القصيرة SMS أو حفظها في قاعدة بيانات.   

<a name="the-policies-directory"></a>
#### مجلد Policies

افتراضيا هذا المجلد غير موجود، لكن سيتم إنشاؤه من أجلك عند تنفيذك لأمر Artisan `make:policy`. يحوي مجلد `Policies` أصناف سياسة التصريح الخاصة بتطبيقك. السياسات تُستخدم لتحديد إمكانية تنفيذ إجراء معين لمورد معين بواسطة مستخدم معين. لمزيد من المعلومات، ألق نظرة على [توثيق التصريح](/docs/{{version}}/authorization).   

<a name="the-providers-directory"></a>
#### مجلد Providers

يحوي مجلد `Providers` كل [مزَوِّدي الخدمة](/docs/{{version}}/providers) لتطبيقك. يُمَهِّـد مزوِّدو الخدمة تطبيقك عبر ربط الخدمات في حاوية الخدمة (service container)، تسجيل الأحداث، أو تنفيذ أي مهام أخرى ليكون تطبيقك على استعداد للطلبات الواردة.

في تطبيق لارافال جديد، يحوي هذا المجلد بعضا من المزوِّدين. يمكن إضافة مزودين داخل هذا الملف عند الحاجة.
